# Change Log
All notable changes to this project will be documented in this file.

## [3.0.5] - 2017-03-02
# Added
- Implement GitHub API
- Git Host API allows to filter on pull request status
- Reset and force_reset commands
- Add explicit message when using a command with a wrong syntax
- Implement reset and force_reset commands
# Changed
- Refactoring: the bert_e.utils module became the bet_e.lib package
- System tests now use the abstract git_host API

## [3.0.4] - 2017-02-16
# Fixed
- Bert-E specifically handles the case where the destination of a PR is archived/deleted
# Added
- Provide the url to failed builds in pull requests

## [3.0.3] - 2017-02-15
# Fixed
- Filter on open pull requests only to avoid getting stuck in a loop
- Fixed conflict resolution instructions on non-pushed integration branches

## [3.0.2] - 2017-02-13
# Changed
- Bitbucket API HTTP calls were optimized to avoid full-scan (and throttling by Bitbucket)
- Made approval messages less verbose
# Added
- The abstract Git HOST API allows for filtering when listing pull requests
# Fixed
- BertE no longer pushes empty integration branches to the repository
- Add mechanism to hide BertE's credentials from error messages and logs

## [3.0.1] - 2017-02-07
# Fixed
- Some exceptions slipped through and killed the BertE worker thread in the server
- Tasks were set in reversed order on bitbucket

## [3.0.0] - 2017-02-06
# Changed
- dropped Python 2 support, in favor of Python 3.5+
- defined an abstract git_host API for Bitbucket and similar services
- major refactoring: the big bert_e.bert_e module was exploded in independent packages
- support for Bitbucket's STOPPED build status

## [2.0.10] - 2017-01-23
# Changed
- do not fail in case the internal API of tasks has changed at bitbucket
# Fixed
- fixed init message when there is no default review tasks for the project

## [2.0.9] - 2017-01-18
# Added
- customized review tasks auto-creation on init
# Fixed
- unstarted builds in queue show as NOTSTARTED rather than INPROGRESS
# Changed
- removed reference to Jira ticket types `EPIC` in documentation

## [2.0.8] - 2016-12-30
# Changed
- Bert-E is now provided as an installable package
- optimised templating for status page
- information added to status page: merge date, details of internal errors
# Fixed
- server tests can now run individually
- fixed tests based on get_pull_request
- fixed permanent CommandError for new repositories

## [2.0.7] - 2016-12-23
# Changed
- faster retrieval of all git branches using mirror clones
- removed the --reference option as it was replaced by an internal git cache

## [2.0.6] - 2016-12-20
# Changed
- monitoring page is now in HTML
- delayed git clone and added an ls-remote cache to speed bert-e up

## [2.0.4] - 2016-11-16
# Changed
- moved settings to per-project files
- renamed tools to Bert-E / server
- update documentation files
# Added
- added user documentation
- licence

## [2.0.3] - 2016-10-20
# Fixed
- improve robustness against QueueConflict exceptions

## [2.0.2] - 2016-10-19
# Added
- externalise settings to yaml files
- add a sample settings file
- allow multiple Jira issue keys per project

## [2.0.1] - 2016-10-18
# Added
- allow multiple ticket keys for projects
- show return status in server's monitoring view

# Fixed
- avoid raising trivial conflicts due to branch update order
- selective git transactions (push only modified branches)

## [2.0.0] - 2016-09-29
# Added
- new queueing system
- more information on server's monitoring view

## [1.0.14] - 2016-09-23
# Added
- new standalone webhook listener&parser (server.py)
- (experimental) react to commit sha1 instead of pull-request ID
- add a timeout to all system commands
- improve reactivity by not reacting to 'build started' events
# Fixed
- fix freeze on a git command

## [1.0.13] - 2016-06-22
### Fixed
- quote commands in git API to avoid bash interpolation
### Changed
- remove 'tester' role and replace the tester approval with a second peer approval

## [1.0.12] - 2016-06-03
### Fixed
- only use long sha1 where possible for safety
- fix recognition of incorrect commands
- fix over-long Bert-E instances when target branch has diverged a lot
### Changed
- do not add author as a reviewer on integration PR, to reduce email traffic (opt-in)
- more comprehensive conflict resolution message
- informative messages are now sent in the same session of Bert-E
### Added
- clean integration data when the original PR is declined

## [1.0.11] - 2016-05-09
### Fixed
- fix typo in new tester name

## [1.0.10] - 2016-05-04
### Fixed
- support long PR titles
### Changed
- update Jenkinsfile
- reword messages
- remove email handler
- rework no-repeat strategy
### Added
- add 'integration PR created' message
- add retry strategy
- block on unrecognised or unauthorized messages
- add more testers to Ring project

## [1.0.9] - 2016-04-19
### Changed
- add new administrators to Ring project

## [1.0.8] - 2016-04-08
### Fixed
- workaround random order of messages obtained from BB PRs

## [1.0.7] - 2016-04-07
### Fixed
- remove all previous artifacts from workspace
### Added
- detect and resolve laggy bitbucket situations (PR skew)

## [1.0.6] - 2016-03-24
### Fixed
- do not abort merge in case of problem during merge

## [1.0.5] - 2016-03-24
### Fixed
- increase rename limit in Git

## [1.0.4] - 2016-03-15
### Fixed
- fix display of expected fix versions
### Changed
- improve Jenkinsfile: use externalised bitbucketNotify function
- update link to online documentation
### Added
- add releng-jenkins project

## [1.0.3] - 2016-02-25
### Fixed
- fix prefix in Mismatch Prefix message
- fix formatting of log statement
### Added
- add demo project

## [1.0.2] - 2016-02-24
### Fixed
- RELENG-1005 display of the non-targetted branches is incorrect

## [1.0.1] - 2016-02-22
### Added
- support stabilization branches
- unanimity option
- after_pull_request option
- bypass_incompatible_branch option

## [1.0.0] - 2015-02-11
Initial release
